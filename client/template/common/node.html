<div class="node" ng-repeat="vault in vaults | orderBy:'vault_id'" ng-controller="VaultCtrl" ng-init="init(vault)" 
	ng-class="{false:'dead'}[isActive]">
	<div class="box">
		<div class="notif">			
			<ul>
				<li ng-class="iconsTray.account" tooltip="{{lastLog()}}">									
				</li>								
				<li ng-class="iconsTray.chunk" tooltip="{{lastLog()}}">									
				</li>								
				<li class="shape" ng-class="iconsTray.subscriber" tooltip="{{lastLog()}}">	
					<p>{{subscriber}}</p>
				</li>								
				<li class="shape" ng-class="iconsTray.counter" tooltip="{{lastLog()}}">									
					<p>{{counter}}</p>
				</li>
			</ul>
		</div>
		<div class="progress" ng-class="{true:'vault_start'}[logs[logs.length-1].action_id==0]">
			<div ng-style="progressLevel"></div>
		</div>
		<div class="info" ng-class="personaColour" >
			<p tooltip="{{fullVaultName}}">{{vaultName.substring(0,6)}}</p>	
			<img ng-src="../client/imgs/icons/{{stateIcon}}" ng-click="toggleVaultLogs()">
		</div>
	</div>	
	<div class="log_slider" ng-class="{false:'close'}[logsOpen]">
		<ul>
			<li ng-repeat="log in logs" >
			  	<div class="log_date">
			  		{{log.ts | date : 'MMM dd hh:mm:ss'}}
			  	</div>
			  	<div class="log_msg">
			  		{{ vaultBehaviour.formatMessage(log) }}
			  	</div>
			</li>		
		</ul>		
	</div>				
</div>