<html>
<head>
    <link rel="stylesheet" type="text/css" href="components/normalize.css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/app.css">
    <link rel="stylesheet" type="text/css" href="css/shapes.css">
    <link rel="stylesheet" type="text/css" href="css/colours.css">
    <link rel="stylesheet" type="text/css" href="css/fonts.css">

    <script type="text/javascript" src="components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="components/angular/angular.min.js"></script>
    <script type="text/javascript" src="components/socket.io-client/dist/socket.io.min.js"></script>
    <script src="components/underscore/underscore-min.js"></script>
    <script src="components/react/react.min.js"></script>

    <script src="components/ngReact/ngReact.min.js"></script>
    <script type="text/javascript" src="components/socket.io-client/dist/socket.io.min.js"></script>
    <script type="text/javascript" src="js/service/SocketService.js"></script>
    <script type="text/javascript" src="js/controller/ConnectionMapCtrl.js"></script>
    <script type="text/javascript" src="js/reactjs/jsx-output/ConnectionMap.js"></script>
    <script type="text/javascript" src="connection_map/js/events.js"></script>
    <script type="text/javascript" src="connection_map/js/con_map_transform.js"></script>
  <script src="connection_map/js/d3/d3.min.js" charset="utf-8"></script>
    <script type="text/javascript">var socketPort = <%- JSON.stringify(socketPort) %>;</script>
    <title>Network Visualiser - Connection Map</title>
    <link rel="shortcut icon" href="imgs/favicon.ico" />
    <link rel="icon" type="image/ico" href="imgs/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="css/d3.css"></link>
  <style>
    svg {
      border: 1px solid #ccc;
    }
    .link {
      stroke:#98C2E5;
    }
    .link.grey {
      stroke:#CCCCCC;
    }
    .link.target {
      stroke:#CCCCCC;
      stroke-width: 1px;
    }
    .link.source {
      stroke:#CCCCCC;
      stroke-width: 1;
    }

    .link.not-exp{
      stroke:#F7931E;
      stroke-dasharray: 7,4;
      stroke-width:1.5;
      stroke-opacity:1;
    }

    .link.missing{
      stroke:#ED1C24;
      stroke-dasharray: 7,4;
      stroke-width:1.5;
      stroke-opacity:1;
    }

    .link.missing.grey , .link.not-exp.grey {
      stroke:#CCCCCC;
      stroke-dasharray: none;
      stroke-opacity:.5;
    }

    .link.source.grey {
      stroke:#CCCCCC;
      stroke-width: 1;
      stroke-opacity:.5;
    }
    .link.source.missing-expected{
      stroke:#ED1C24;
      stroke-dasharray : 7,4;
      stroke-width:1.5;
      stroke-opacity:1;
    }
    .link.source.in{
      stroke:#0DB535;
      stroke-width:1.5;
      stroke-opacity:1;
    }
    .link.source.out{
      stroke:#ED1C24;
      stroke-width:1.5;
      stroke-opacity:1;
    }
    .link.source.not-expected {
      stroke:#F7931E;
      stroke-dasharray: 7,4;
      stroke-width:1.5;
      stroke-opacity:1;
    }
    .link.source.close-group {
      stroke:#5593D7;
      stroke-dasharray : 7,4;
      stroke-width:1.5;
      stroke-opacity:1;
    }
    .link.source.group{
      stroke:#98C2E5;
      stroke-width:1.5;
      stroke-opacity:1;
    }
    .link.target.overlaped-target {
      fill: none;
      stroke: #5593D7;
      stroke-opacity: .1;
      pointer-events: none;
    }
    .node text {
      fill: #999999;
    }
    .node text.red {
      fill:#ED1C24;
    }
    .node text.green {
      fill:#0DB535;
    }
    .node text.blue {
      fill:#5593D7;
    }
    .node text.light-blue {
      fill:#98C2E5;
    }
    .node text.orange {
      fill:#F7931E;
    }
    .node text.selected {
      fill:black;
      font-weight: bold;
    }
    .node circle {
      fill:white;
      stroke:#808080;
      stroke-width:1.2;
    }
    .node circle.full {
      fill:#808080;
    }
  </style>
</head>
<body ng-app="MaidSafe" ng-controller="connectionMapCtrl">
<header>
    <ng-include src="'template/connection_map/header.html'"></ng-include>
</header>
<section>
    <div class="icons" ng-if="!iconsTrayClosed">
       <ng-include src="'template/common/icons_tray.html'"></ng-include>
    </div>
    <div id="wrapper" ng-class="{false:'tray_open'}[iconsTrayClosed]">
       <div ng-react-component="ConnectionMap" data="vaultManager.vaultCollection"></div>
    </div>
</section>
<footer>
    <ng-include src="'template/common/footer.html'"></ng-include>
</footer>
</body>
</html>